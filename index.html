<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>apa yahhh</title>

<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&family=Pacifico&family=Baloo+2:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
margin:0;
font-family:'Baloo 2',cursive;
background:linear-gradient(135deg,#ffd6e0,#ffeef2);
overflow-x:hidden;
}

.container{
width:100vw;
min-height:100vh;
padding:20px;
box-sizing:border-box;
}

.page{display:none}
.active{
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
min-height:100vh;
}

h2{
font-family:'Pacifico',cursive;
color:#ff4f79;
font-size:clamp(24px,5vw,36px);
text-align:center;
}

.spinText{
font-size:clamp(24px,6vw,34px);
font-weight:800;
color:#ff4f79;
margin-top:24px;
margin-bottom:-10px;
text-align:center;
}

.gif{
width:clamp(180px,45vw,260px);
}

.btnRow{
display:flex;
gap:20px;
justify-content:center;
align-items:center;
margin-top:25px;
width:100%;
position:relative;
}

button{
padding:14px 26px;
border:none;
border-radius:16px;
font-size:clamp(18px,4vw,22px);
font-weight:700;
cursor:pointer;
box-shadow:0 4px 12px rgba(0,0,0,.2);
font-family:'Baloo 2',cursive;
}

.yes{background:#ff6b81;color:white}
.no{
background:#bbb;
color:white;
position:relative;
transition:transform .45s cubic-bezier(.2,.8,.2,1);
}

.next{
background:#ff6b81;
color:white;
display:block;
margin:60px auto 0 auto;
}

.sticker{width:140px;margin-bottom:60px}

.square{
background:white;
padding:20px;
border-radius:18px;
box-shadow:0 6px 15px rgba(0,0,0,.15);
margin-bottom:25px;
font-size:clamp(16px,4vw,20px);
font-family:'Baloo 2', cursive;
line-height:1.25;
}

.square p{
margin:4px 0;
}

.photoWrap{
position:relative;
height:320px;
width:100%;
max-width:500px;
}

.photo{
position:absolute;
width:45%;
background:white;
padding:8px 8px 18px;
box-shadow:0 12px 25px rgba(0,0,0,.3);
border-radius:6px;
}

.photo img{width:100%;border-radius:4px}
.p1{transform:rotate(-8deg);left:0;top:0}
.p2{transform:rotate(10deg);right:0;top:50px}

.tokenBox{
position:fixed;
top:10px;
right:10px;
background:white;
padding:8px 14px;
border-radius:14px;
display:flex;
gap:6px;
align-items:center;
box-shadow:0 3px 10px rgba(0,0,0,.2);
}

.rewards{
display:flex;
gap:20px;
margin:40px 0;
}

.reward{
width:26vw;
max-width:120px;
aspect-ratio:1/1;
background:white;
border-radius:16px;
display:flex;
justify-content:center;
align-items:center;
}

.reward img{width:70%}

.highlight{
outline:5px solid #ff6b81;
box-shadow:0 0 25px #ff6b81;
}

.popup{
position:fixed;
inset:0;
background:rgba(0,0,0,.5);
display:none;
justify-content:center;
align-items:center;
}

.box{
background:white;
padding:22px;
border-radius:18px;
text-align:center;
max-width:300px;
}
.box img{width:130px}
</style>
</head>

<body>

<audio id="bgm1" loop src="bgm1.mp3"></audio>
<audio id="bgm2" loop src="bgm2.mp3"></audio>
<audio id="yesSound" src="yes.mp3" loop="true"></audio>

<div class="container">

<!-- PAGE 1 -->
<div id="p1" class="page active">
<img class="gif" src="https://media1.tenor.com/m/TKaLVjpWD8IAAAAd/miyabi-hoshimi-miyabi.gif">
<h2>Do you want to be my Valentine?</h2>

<div class="btnRow">
<button class="yes" onclick="yesClick()">Yes ü•∞</button>
<button class="no" id="noBtn">No üòû</button>
</div>
</div>

<!-- PAGE 2 -->
<div id="p2" class="page">

<img class="sticker" src="https://media1.tenor.com/m/pN7xf12qQcwAAAAd/cuddle-cute.gif">

<div class="square">
<p>Dear Amel üíó</p>
<div>Aku sayang sama kamu ü•∞  
Pokoknya gitu dehh.</div>
<div><b>You are my love, you are my heart</b></div>
<div><b>And we will never, ever, ever be apart</b></div>
<p style="text-align:right">Scroll Kebawah</p>
</div>

<div class="photoWrap">
<div class="photo p1"><img src="ph1.jpg"></div>
<div class="photo p2"><img src="ph2.jpg"></div>
</div>

<button class="next" onclick="toSpin()">Lanjut</button>
</div>

<!-- PAGE 3 -->
<div id="p3" class="page">

<div class="tokenBox">
<img width="24" src="https://cdn-icons-png.flaticon.com/512/3523/3523887.png">
<span id="tk">0</span>
</div>

<div class="spinText">
TEKAN SPIN UNTUK MENDAPATKAN HADIAH üéÅ
</div>

<div class="rewards">
<div class="reward"><img src="https://cdn-icons-png.flaticon.com/128/8146/8146553.png"></div>
<div class="reward"><img src="https://cdn-icons-png.flaticon.com/128/8146/8146553.png"></div>
<div class="reward"><img src="https://cdn-icons-png.flaticon.com/128/8146/8146553.png"></div>
</div>

<button class="yes" onclick="spin()">SPIN</button>

</div>
</div>

<div id="pop" class="popup">
<div class="box" id="box"></div>
</div>

<script>
let token=parseInt(localStorage.getItem("token")||0)
tk.innerText=token

// AUTOPLAY BGM1
window.addEventListener('load', ()=>{
  bgm1.volume = 0.6;
  bgm1.play().catch(()=>{
    document.addEventListener('click', ()=>bgm1.play(), {once:true});
    document.addEventListener('touchstart', ()=>bgm1.play(), {once:true});
  });
})

// NO BUTTON LOMPAT
const noBtn=document.getElementById("noBtn")
noBtn.onclick=()=>{
let x=(Math.random()*window.innerWidth*0.6)-(window.innerWidth*0.3)
let y=(Math.random()*window.innerHeight*0.8)-(window.innerHeight*0.6)
noBtn.style.transform=`translate(${x}px,${y}px)`
}

// NAV
function go(n){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"))
  document.getElementById("p"+n).classList.add("active")
}

// YES BUTTON
function yesClick(){
  // STOP BGM1
  bgm1.pause()
  // PLAY YES SOUND
  yesSound.currentTime = 0
  yesSound.play().catch(()=>{})
  go(2)
}

// LANJUT BUTTON
function toSpin(){
  // STOP YES SOUND
  yesSound.pause()
  // PLAY BGM2
  bgm2.currentTime = 0
  bgm2.play().catch(()=>{})
  go(3)
}

const popEl=document.getElementById("pop")
function pop(html){box.innerHTML=html;popEl.style.display="flex"}
function closePop(){popEl.style.display="none"}

function update(){
tk.innerText=token
localStorage.setItem("token",token)
}

const rewards=document.querySelectorAll(".reward")

function spin(){
if(token<=0){
pop(`Chat aku untuk dapat tokenüëá<br><br><button onclick="chat()">Chat</button>`)
return
}
token--
update()

let r=Math.random()*100
let index=(r<90)?0:(r<95)?1:2

let i=0
let cycles=15+index

let interval=setInterval(()=>{
rewards.forEach(r=>r.classList.remove("highlight"))
rewards[i%3].classList.add("highlight")
i++
if(i>cycles){
clearInterval(interval)
setTimeout(()=>showPrize(index),600)
}
},120)
}

function showPrize(index){
let img,title
if(index==0){
img="https://cdn-icons-png.flaticon.com/128/4142/4142995.png"
title="Nanti coklat nya aku belikan ya!üòô"
}
else if(index==1){
img="https://media.istockphoto.com/id/526111415/id/foto/mawar.jpg?s=612x612&w=0"
title="Nanti aku kasih bunga yang tidak akan pernah layu"
}
else{
img="https://cdn-icons-png.flaticon.com/128/8727/8727083.png"
title="BOMB üí£ Kamu harus kirim pap yang banyak!üòù"
}
pop(`<img src="${img}"><h3>${title}</h3><button onclick="closePop()">OK</button>`)
}

function chat(){
window.open("https://wa.link/5qkvj9")
token++
update()
closePop()
}
</script>

</body>
  </html>
